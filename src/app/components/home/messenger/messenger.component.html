<ng-template [ngIf] = "!userSet">
    Click on a user to message them
</ng-template>
<ng-template [ngIf] = "userSet">
    <div class = 'box'>
        <div class = "name tc pa2 pointer" (click) = "onViewProfile()">{{ getName() }}</div>
        <div class = "messageSection" id = "bottom">
            <div *ngFor = "let messageObject of messages">
    
                <ng-template [ngIf] = "isSending(messageObject)">
                    <div style = "display: flex; justify-content: flex-end;">
                        <div  class = 'msgCard sender ph3 ma2'>
                            {{ messageObject.message }}
                        </div>
                    </div>
                </ng-template>
    
                <ng-template [ngIf] = "!isSending(messageObject)">
                    <div style = "display: flex; justify-content: flex-start;">
                        <div class = 'msgCard receiver ph3 ma2'>
                            {{ messageObject.message }}
    
                        </div>
                    </div>
    
                </ng-template>
    
            </div>
        </div>
        
    </div>
    <div class = 'message w-100' style = "display : flex;justify-content : center">
        <form [formGroup] = "messageForm" class = 'w-100'>
            <input 
                class = 'b pa2 input-reset ba bg-transparent w-100' 
                formControlName = "message"
                (keydown) = "onPress($event)"
                type = 'text' />
        </form>
    
        <div class = 'image-upload grow'>
            <label htmlFor = 'file-input'>
                <img class = 'pointer grow' src = "assets/attach.png" alt = 'paperclip' width = '40px'/>
            </label>
            <input id = 'file-input' type = 'file'/>
        </div>
        
        <button class = 'ml2 b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f5 dib br3' (click) = "sendMessage()">Send</button>
        
    </div>
</ng-template>
